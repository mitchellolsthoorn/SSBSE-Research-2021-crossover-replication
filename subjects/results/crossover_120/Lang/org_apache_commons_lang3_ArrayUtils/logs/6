* EvoSuite 1.1.0
* Configuration: crossover_120
* Going to generate test cases for class: org.apache.commons.lang3.ArrayUtils
* Starting Client-0
* Connecting to master process on port 20949
* Analyzing classpath: 
  - projects/Lang/commons-lang3-3.12.0.jar
* Finished analyzing classpath
* Generating tests for class org.apache.commons.lang3.ArrayUtils
* Test criteria:
  - Line Coverage
  - Branch Coverage
  - Exception
  - Mutation testing (weak)
  - Method-Output Coverage
  - Top-Level Method Coverage
  - No-Exception Top-Level Method Coverage
  - Context Branch Coverage
* Total number of test goals for DYNAMOSA: 8739
* Using seed 1352550785
* Starting evolution
* Initial Number of Goals in DynaMOSA = 2360 / 8739
[MASTER] 15:14:12.727 [logback-2] ERROR TestCluster - Failed to check cache for java.util.AbstractMap<K, V>.SimpleEntry<K, V> : Type points to itself
[MASTER] 15:14:12.729 [logback-2] ERROR TestCluster - Failed to check cache for java.util.AbstractMap<K, V>.SimpleImmutableEntry<K, V> : Type points to itself
[MASTER] 15:14:36.700 [logback-2] ERROR TestCluster - Failed to check cache for java.util.Comparator<T> : Type points to itself
* Search finished after 126s and 58 generations, 73772 statements, best individual has fitness: 1252.0
[MASTER] 15:16:34.407 [logback-1] WARN  TimeController - Phase SEARCH lasted too long, 22 seconds more than allowed.
* Minimizing test suite
[MASTER] 15:18:39.760 [logback-1] WARN  TestSuiteMinimizer - Minimization timeout. Roll back to original test suite
* Going to analyze the coverage criteria
* Coverage analysis for criterion LINE
* Coverage of criterion LINE: 95%
* Total number of goals: 2107
* Number of covered goals: 2002
* Coverage analysis for criterion BRANCH
* Coverage of criterion BRANCH: 91%
* Total number of goals: 1640
* Number of covered goals: 1490
* Coverage analysis for criterion EXCEPTION
* Coverage of criterion EXCEPTION: 100%
* Total number of goals: 58
* Number of covered goals: 58
* Coverage analysis for criterion WEAKMUTATION
* Coverage of criterion WEAKMUTATION: 81%
* Total number of goals: 1654
* Number of covered goals: 1344
* Coverage analysis for criterion OUTPUT
* Coverage of criterion OUTPUT: 64%
* Total number of goals: 982
* Number of covered goals: 631
* Coverage analysis for criterion METHOD
* Coverage of criterion METHOD: 100%
* Total number of goals: 358
* Number of covered goals: 358
* Coverage analysis for criterion METHODNOEXCEPTION
* Coverage of criterion METHODNOEXCEPTION: 96%
* Total number of goals: 358
* Number of covered goals: 345
* Coverage analysis for criterion CBRANCH
* Coverage of criterion CBRANCH: 83%
* Total number of goals: 1640
* Number of covered goals: 1361
* Generated 1101 tests with total length 20549
* Resulting test suite's coverage: 84% (average coverage for all fitness functions)
* Generating assertions
[MASTER] 15:21:19.651 [logback-1] WARN  SimpleMutationAssertionGenerator - Assertion minimization is taking too long (0.6708916666666667% of time used, but only 87/1101 tests minimized), falling back to using all assertions
* Resulting test suite's mutation score: 12%
* Compiling and checking tests
[MASTER] 15:22:33.493 [logback-2] ERROR JUnitAnalyzer - Compilation failed on compilation units: [RegularFileObject[/tmp/EvoSuite_682_1619796153464/org/apache/commons/lang3/ArrayUtils_682_tmp__ESTest.java], RegularFileObject[/tmp/EvoSuite_682_1619796153464/org/apache/commons/lang3/ArrayUtils_682_tmp__ESTest_scaffolding.java]]
[MASTER] 15:22:33.493 [logback-2] ERROR JUnitAnalyzer - Classpath: projects/Lang/commons-lang3-3.12.0.jar:/evosuite-bin/evosuite.jar:/evosuite/projects/Lang/commons-lang3-3.12.0.jar
[MASTER] 15:22:33.493 [logback-2] ERROR JUnitAnalyzer - evosuiteCP: /evosuite-bin/evosuite.jar:/evosuite/projects/Lang/commons-lang3-3.12.0.jar
[MASTER] 15:22:33.497 [logback-2] ERROR JUnitAnalyzer - Diagnostic: incompatible types: java.util.Comparator<java.util.Map.Entry<java.lang.Object,java.lang.Object>> cannot be converted to java.util.Comparator<java.util.Map.Entry<java.lang.Object,java.lang.Double>>: 40
[MASTER] 15:22:33.500 [logback-2] ERROR JUnitAnalyzer - Diagnostic: /tmp/EvoSuite_682_1619796153464/org/apache/commons/lang3/ArrayUtils_682_tmp__ESTest.java uses unchecked or unsafe operations.: -1
[MASTER] 15:22:33.501 [logback-2] ERROR JUnitAnalyzer - Diagnostic: Recompile with -Xlint:unchecked for details.: -1
[MASTER] 15:22:33.526 [logback-2] ERROR JUnitAnalyzer - RegularFileObject[/tmp/EvoSuite_682_1619796153464/org/apache/commons/lang3/ArrayUtils_682_tmp__ESTest.java]
1: /*
2:  * This file was automatically generated by EvoSuite
3:  * Fri Apr 30 15:22:33 GMT 2021
4:  */
5: 
6: package org.apache.commons.lang3;
7: 
8: import org.junit.Test;
9: import static org.junit.Assert.*;
10: import static org.evosuite.shaded.org.mockito.Mockito.*;
11: import java.util.AbstractMap;
12: import java.util.Comparator;
13: import java.util.Map;
14: import org.apache.commons.lang3.ArrayUtils;
15: import org.apache.commons.lang3.mutable.MutableInt;
16: import org.evosuite.runtime.EvoRunner;
17: import org.evosuite.runtime.EvoRunnerParameters;
18: import org.evosuite.runtime.ViolatedAssumptionAnswer;
19: import org.junit.runner.RunWith;
20: 
21: @RunWith(EvoRunner.class) @EvoRunnerParameters(mockJVMNonDeterminism = true, useVFS = true, useVNET = true, resetStaticState = true) 
22: public class ArrayUtils_682_tmp__ESTest extends ArrayUtils_682_tmp__ESTest_scaffolding {
23: 
24:   @Test(timeout = 4000)
25:   public void test0()  throws Throwable  {
26:       ArrayUtils.shift((boolean[]) null, (-368), (-368), 2);
27:       Integer integer0 = new Integer(2);
28:       assertNotNull(integer0);
29:       assertEquals(2, (int)integer0);
30:       
31:       Integer integer1 = new Integer(2);
32:       assertTrue(integer1.equals((Object)integer0));
33:       assertNotNull(integer1);
34:       assertEquals(2, (int)integer1);
35:       
36:       Comparator<Object> comparator0 = (Comparator<Object>) mock(Comparator.class, new ViolatedAssumptionAnswer());
37:       Comparator<Map.Entry<AbstractMap.SimpleImmutableEntry<MutableInt, Byte>, Double>> comparator1 = Map.Entry.comparingByValue();
38:       assertNotNull(comparator1);
39:       
40:       Comparator<Map.Entry<Object, Double>> comparator2 = (Comparator<Map.Entry<Object, Double>>)Map.Entry.comparingByKey((Comparator<? super Object>) comparator0);
41:       assertNotNull(comparator2);
42:       
43:       double[] doubleArray0 = new double[2];
44:       doubleArray0[0] = 1.0;
45:       long[] longArray0 = new long[5];
46:       longArray0[0] = (long) (-368);
47:       longArray0[1] = 3347L;
48:       longArray0[2] = (long) (-368);
49:       longArray0[3] = (long) 2;
50:       longArray0[4] = (-984L);
51:       long[] longArray1 = ArrayUtils.removeElements(longArray0, longArray0);
52:       assertNotSame(longArray0, longArray1);
53:       assertNotSame(longArray1, longArray0);
54:       assertEquals(5, longArray0.length);
55:       assertEquals(0, longArray1.length);
56:       assertArrayEquals(new long[] {(-368L), 3347L, (-368L), 2L, (-984L)}, longArray0);
57:       assertArrayEquals(new long[] {}, longArray1);
58:       assertFalse(longArray1.equals((Object)longArray0));
59:       assertNotNull(longArray1);
60:       
61:       ArrayUtils.swap((boolean[]) null, 2, 2353, 1466);
62:   }
63: }
RegularFileObject[/tmp/EvoSuite_682_1619796153464/org/apache/commons/lang3/ArrayUtils_682_tmp__ESTest.java]
1: /**
2:  * Scaffolding file used to store all the setups needed to run 
3:  * tests automatically generated by EvoSuite
4:  * Fri Apr 30 15:22:33 GMT 2021
5:  */
6: 
7: package org.apache.commons.lang3;
8: 
9: import org.evosuite.runtime.annotation.EvoSuiteClassExclude;
10: import org.junit.BeforeClass;
11: import org.junit.Before;
12: import org.junit.After;
13: import org.junit.AfterClass;
14: import org.evosuite.runtime.sandbox.Sandbox;
15: import org.evosuite.runtime.sandbox.Sandbox.SandboxMode;
16: 
17: import static org.evosuite.shaded.org.mockito.Mockito.*;
18: @EvoSuiteClassExclude
19: public class ArrayUtils_682_tmp__ESTest_scaffolding {
20: 
21:   @org.junit.Rule 
22:   public org.evosuite.runtime.vnet.NonFunctionalRequirementRule nfr = new org.evosuite.runtime.vnet.NonFunctionalRequirementRule();
23: 
24:   private static final java.util.Properties defaultProperties = (java.util.Properties) java.lang.System.getProperties().clone(); 
25: 
26:   private org.evosuite.runtime.thread.ThreadStopper threadStopper =  new org.evosuite.runtime.thread.ThreadStopper (org.evosuite.runtime.thread.KillSwitchHandler.getInstance(), 3000);
27: 
28: 
29:   @BeforeClass 
30:   public static void initEvoSuiteFramework() { 
31:     org.evosuite.runtime.RuntimeSettings.className = "org.apache.commons.lang3.ArrayUtils"; 
32:     org.evosuite.runtime.GuiSupport.initialize(); 
33:     org.evosuite.runtime.RuntimeSettings.maxNumberOfThreads = 100; 
34:     org.evosuite.runtime.RuntimeSettings.maxNumberOfIterationsPerLoop = 10000; 
35:     org.evosuite.runtime.RuntimeSettings.mockSystemIn = true; 
36:     org.evosuite.runtime.RuntimeSettings.sandboxMode = org.evosuite.runtime.sandbox.Sandbox.SandboxMode.RECOMMENDED; 
37:     org.evosuite.runtime.sandbox.Sandbox.initializeSecurityManagerForSUT(); 
38:     org.evosuite.runtime.classhandling.JDKClassResetter.init();
39:     setSystemProperties();
40:     initializeClasses();
41:     org.evosuite.runtime.Runtime.getInstance().resetRuntime(); 
42:     try { initMocksToAvoidTimeoutsInTheTests(); } catch(ClassNotFoundException e) {} 
43:   } 
44: 
45:   @AfterClass 
46:   public static void clearEvoSuiteFramework(){ 
47:     Sandbox.resetDefaultSecurityManager(); 
48:     java.lang.System.setProperties((java.util.Properties) defaultProperties.clone()); 
49:   } 
50: 
51:   @Before 
52:   public void initTestCase(){ 
53:     threadStopper.storeCurrentThreads();
54:     threadStopper.startRecordingTime();
55:     org.evosuite.runtime.jvm.ShutdownHookHandler.getInstance().initHandler(); 
56:     org.evosuite.runtime.sandbox.Sandbox.goingToExecuteSUTCode(); 
57:     setSystemProperties(); 
58:     org.evosuite.runtime.GuiSupport.setHeadless(); 
59:     org.evosuite.runtime.Runtime.getInstance().resetRuntime(); 
60:     org.evosuite.runtime.agent.InstrumentingAgent.activate(); 
61:   } 
62: 
63:   @After 
64:   public void doneWithTestCase(){ 
65:     threadStopper.killAndJoinClientThreads();
66:     org.evosuite.runtime.jvm.ShutdownHookHandler.getInstance().safeExecuteAddedHooks(); 
67:     org.evosuite.runtime.classhandling.JDKClassResetter.reset(); 
68:     resetClasses(); 
69:     org.evosuite.runtime.sandbox.Sandbox.doneWithExecutingSUTCode(); 
70:     org.evosuite.runtime.agent.InstrumentingAgent.deactivate(); 
71:     org.evosuite.runtime.GuiSupport.restoreHeadlessMode(); 
72:   } 
73: 
74:   public static void setSystemProperties() {
75:  
76:     java.lang.System.setProperties((java.util.Properties) defaultProperties.clone()); 
77:     java.lang.System.setProperty("user.dir", "/evosuite"); 
78:     java.lang.System.setProperty("java.io.tmpdir", "/tmp"); 
79:   }
80: 
81:   private static void initializeClasses() {
82:     org.evosuite.runtime.classhandling.ClassStateSupport.initializeClasses(ArrayUtils_682_tmp__ESTest_scaffolding.class.getClassLoader() ,
83:       "org.apache.commons.lang3.mutable.MutableInt",
84:       "org.apache.commons.lang3.ArraySorter",
85:       "org.apache.commons.lang3.builder.ToStringStyle",
86:       "org.apache.commons.lang3.ArrayUtils",
87:       "org.apache.commons.lang3.BooleanUtils",
88:       "org.apache.commons.lang3.StringUtils",
89:       "org.apache.commons.lang3.CharUtils",
90:       "org.apache.commons.lang3.builder.ToStringStyle$SimpleToStringStyle",
91:       "org.apache.commons.lang3.CharSequenceUtils",
92:       "org.apache.commons.lang3.ClassUtils",
93:       "org.apache.commons.lang3.builder.ToStringStyle$NoClassNameToStringStyle",
94:       "org.apache.commons.lang3.builder.ToStringStyle$DefaultToStringStyle",
95:       "org.apache.commons.lang3.builder.ToStringBuilder",
96:       "org.apache.commons.lang3.mutable.Mutable",
97:       "org.apache.commons.lang3.math.NumberUtils",
98:       "org.apache.commons.lang3.builder.Builder",
99:       "org.apache.commons.lang3.builder.ToStringStyle$JsonToStringStyle",
100:       "org.apache.commons.lang3.builder.HashCodeBuilder",
101:       "org.apache.commons.lang3.builder.ToStringStyle$NoFieldNameToStringStyle",
102:       "org.apache.commons.lang3.builder.ToStringStyle$ShortPrefixToStringStyle",
103:       "org.apache.commons.lang3.builder.ToStringStyle$MultiLineToStringStyle",
104:       "org.apache.commons.lang3.builder.EqualsBuilder"
105:     );
106:   } 
107:   private static void initMocksToAvoidTimeoutsInTheTests() throws ClassNotFoundException { 
108:     mock(Class.forName("java.util.Comparator", false, ArrayUtils_682_tmp__ESTest_scaffolding.class.getClassLoader()));
109:   }
110: 
111:   private static void resetClasses() {
112:     org.evosuite.runtime.classhandling.ClassResetter.getInstance().setClassLoader(ArrayUtils_682_tmp__ESTest_scaffolding.class.getClassLoader()); 
113: 
114:     org.evosuite.runtime.classhandling.ClassStateSupport.resetClasses(
115:       "org.apache.commons.lang3.ArrayUtils",
116:       "org.apache.commons.lang3.CharUtils",
117:       "org.apache.commons.lang3.ClassUtils",
118:       "org.apache.commons.lang3.builder.ToStringStyle$DefaultToStringStyle",
119:       "org.apache.commons.lang3.builder.ToStringStyle$MultiLineToStringStyle",
120:       "org.apache.commons.lang3.builder.ToStringStyle$NoFieldNameToStringStyle",
121:       "org.apache.commons.lang3.builder.ToStringStyle$ShortPrefixToStringStyle",
122:       "org.apache.commons.lang3.builder.ToStringStyle$SimpleToStringStyle",
123:       "org.apache.commons.lang3.builder.ToStringStyle$NoClassNameToStringStyle",
124:       "org.apache.commons.lang3.builder.ToStringStyle$JsonToStringStyle",
125:       "org.apache.commons.lang3.builder.ToStringStyle",
126:       "org.apache.commons.lang3.ArraySorter",
127:       "org.apache.commons.lang3.mutable.MutableInt",
128:       "org.apache.commons.lang3.builder.ToStringBuilder",
129:       "org.apache.commons.lang3.StringUtils",
130:       "org.apache.commons.lang3.CharSequenceUtils",
131:       "org.apache.commons.lang3.math.NumberUtils",
132:       "org.apache.commons.lang3.builder.EqualsBuilder",
133:       "org.apache.commons.lang3.builder.HashCodeBuilder",
134:       "org.apache.commons.lang3.BooleanUtils"
135:     );
136:   }
137: }

[MASTER] 15:22:33.526 [logback-2] ERROR JUnitAnalyzer - Failed to compile test case:
ArrayUtils.shift((boolean[]) null, (-368), (-368), 2);
Integer integer0 = new Integer(2);
assertNotNull(integer0);
assertEquals(2, (int)integer0);

Integer integer1 = new Integer(2);
assertTrue(integer1.equals((Object)integer0));
assertNotNull(integer1);
assertEquals(2, (int)integer1);

Comparator<Object> comparator0 = (Comparator<Object>) mock(Comparator.class, new ViolatedAssumptionAnswer());
Comparator<Map.Entry<AbstractMap.SimpleImmutableEntry<MutableInt, Byte>, Double>> comparator1 = Map.Entry.comparingByValue();
assertNotNull(comparator1);

Comparator<Map.Entry<Object, Double>> comparator2 = (Comparator<Map.Entry<Object, Double>>)Map.Entry.comparingByKey((Comparator<? super Object>) comparator0);
assertNotNull(comparator2);

double[] doubleArray0 = new double[2];
doubleArray0[0] = 1.0;
long[] longArray0 = new long[5];
longArray0[0] = (long) (-368);
longArray0[1] = 3347L;
longArray0[2] = (long) (-368);
longArray0[3] = (long) 2;
longArray0[4] = (-984L);
long[] longArray1 = ArrayUtils.removeElements(longArray0, longArray0);
assertNotSame(longArray0, longArray1);
assertNotSame(longArray1, longArray0);
assertEquals(5, longArray0.length);
assertEquals(0, longArray1.length);
assertArrayEquals(new long[] {(-368L), 3347L, (-368L), 2L, (-984L)}, longArray0);
assertArrayEquals(new long[] {}, longArray1);
assertFalse(longArray1.equals((Object)longArray0));
assertNotNull(longArray1);

ArrayUtils.swap((boolean[]) null, 2, 2353, 1466);

[MASTER] 15:22:34.621 [logback-2] ERROR JUnitAnalyzer - Compilation failed on compilation units: [RegularFileObject[/tmp/EvoSuite_709_1619796154595/org/apache/commons/lang3/ArrayUtils_709_tmp__ESTest.java], RegularFileObject[/tmp/EvoSuite_709_1619796154595/org/apache/commons/lang3/ArrayUtils_709_tmp__ESTest_scaffolding.java]]
[MASTER] 15:22:34.622 [logback-2] ERROR JUnitAnalyzer - Classpath: projects/Lang/commons-lang3-3.12.0.jar:/evosuite-bin/evosuite.jar:/evosuite/projects/Lang/commons-lang3-3.12.0.jar
[MASTER] 15:22:34.622 [logback-2] ERROR JUnitAnalyzer - evosuiteCP: /evosuite-bin/evosuite.jar:/evosuite/projects/Lang/commons-lang3-3.12.0.jar
[MASTER] 15:22:34.622 [logback-2] ERROR JUnitAnalyzer - Diagnostic: incompatible types: java.util.Comparator<java.util.Map.Entry<java.lang.Object,java.lang.Object>> cannot be converted to java.util.Comparator<java.util.Map.Entry<java.lang.Object,java.lang.Double>>: 41
[MASTER] 15:22:34.622 [logback-2] ERROR JUnitAnalyzer - Diagnostic: /tmp/EvoSuite_709_1619796154595/org/apache/commons/lang3/ArrayUtils_709_tmp__ESTest.java uses unchecked or unsafe operations.: -1
[MASTER] 15:22:34.623 [logback-2] ERROR JUnitAnalyzer - Diagnostic: Recompile with -Xlint:unchecked for details.: -1
[MASTER] 15:22:34.623 [logback-2] ERROR JUnitAnalyzer - RegularFileObject[/tmp/EvoSuite_709_1619796154595/org/apache/commons/lang3/ArrayUtils_709_tmp__ESTest.java]
1: /*
2:  * This file was automatically generated by EvoSuite
3:  * Fri Apr 30 15:22:34 GMT 2021
4:  */
5: 
6: package org.apache.commons.lang3;
7: 
8: import org.junit.Test;
9: import static org.junit.Assert.*;
10: import static org.evosuite.shaded.org.mockito.Mockito.*;
11: import static org.evosuite.runtime.EvoAssertions.*;
12: import java.util.AbstractMap;
13: import java.util.Comparator;
14: import java.util.Map;
15: import org.apache.commons.lang3.ArrayUtils;
16: import org.apache.commons.lang3.mutable.MutableInt;
17: import org.evosuite.runtime.EvoRunner;
18: import org.evosuite.runtime.EvoRunnerParameters;
19: import org.evosuite.runtime.ViolatedAssumptionAnswer;
20: import org.junit.runner.RunWith;
21: 
22: @RunWith(EvoRunner.class) @EvoRunnerParameters(mockJVMNonDeterminism = true, useVFS = true, useVNET = true, resetStaticState = true) 
23: public class ArrayUtils_709_tmp__ESTest extends ArrayUtils_709_tmp__ESTest_scaffolding {
24: 
25:   @Test(timeout = 4000)
26:   public void test0()  throws Throwable  {
27:       ArrayUtils.shift((boolean[]) null, (-368), (-368), 2);
28:       Integer integer0 = new Integer(2);
29:       assertNotNull(integer0);
30:       assertEquals(2, (int)integer0);
31:       
32:       Integer integer1 = new Integer(2);
33:       assertTrue(integer1.equals((Object)integer0));
34:       assertNotNull(integer1);
35:       assertEquals(2, (int)integer1);
36:       
37:       Comparator<Object> comparator0 = (Comparator<Object>) mock(Comparator.class, new ViolatedAssumptionAnswer());
38:       Comparator<Map.Entry<AbstractMap.SimpleImmutableEntry<MutableInt, Byte>, Double>> comparator1 = Map.Entry.comparingByValue();
39:       assertNotNull(comparator1);
40:       
41:       Comparator<Map.Entry<Object, Double>> comparator2 = (Comparator<Map.Entry<Object, Double>>)Map.Entry.comparingByKey((Comparator<? super Object>) comparator0);
42:       assertNotNull(comparator2);
43:       
44:       double[] doubleArray0 = new double[2];
45:       doubleArray0[0] = 1.0;
46:       long[] longArray0 = new long[5];
47:       longArray0[0] = (long) (-368);
48:       longArray0[1] = 3347L;
49:       longArray0[2] = (long) (-368);
50:       longArray0[3] = (long) 2;
51:       longArray0[4] = (-984L);
52:       long[] longArray1 = ArrayUtils.removeElements(longArray0, longArray0);
53:       assertNotSame(longArray0, longArray1);
54:       assertNotSame(longArray1, longArray0);
55:       assertEquals(5, longArray0.length);
56:       assertEquals(0, longArray1.length);
57:       assertArrayEquals(new long[] {(-368L), 3347L, (-368L), 2L, (-984L)}, longArray0);
58:       assertArrayEquals(new long[] {}, longArray1);
59:       assertFalse(longArray1.equals((Object)longArray0));
60:       assertNotNull(longArray1);
61:       
62:       ArrayUtils.swap((boolean[]) null, 2, 2339, 1466);
63:       Object[] objectArray0 = new Object[2];
64:       objectArray0[0] = (Object) comparator1;
65:       Object object0 = ArrayUtils.toPrimitive((Object) comparator2);
66:       assertNotNull(object0);
67:       
68:       objectArray0[1] = object0;
69:       Character character0 = Character.valueOf('\\');
70:       assertNotNull(character0);
71:       assertEquals('\\', (char)character0);
72:       
73:       int int0 = ArrayUtils.lastIndexOf(objectArray0, (Object) character0);
74:       assertEquals(2, objectArray0.length);
75:       assertEquals((-1), int0);
76:       
77:       boolean[] booleanArray0 = new boolean[8];
78:       booleanArray0[0] = false;
79:       booleanArray0[1] = true;
80:       booleanArray0[2] = true;
81:       booleanArray0[3] = true;
82:       booleanArray0[4] = true;
83:       booleanArray0[5] = true;
84:       booleanArray0[6] = true;
85:       booleanArray0[7] = true;
86:       // Undeclared exception!
87:       try { 
88:         ArrayUtils.insert((-949), booleanArray0, booleanArray0);
89:         fail("Expecting exception: IndexOutOfBoundsException");
90:       
91:       } catch(IndexOutOfBoundsException e) {
92:          //
93:          // Index: -949, Length: 8
94:          //
95:          verifyException("org.apache.commons.lang3.ArrayUtils", e);
96:       }
97:   }
98: }
RegularFileObject[/tmp/EvoSuite_709_1619796154595/org/apache/commons/lang3/ArrayUtils_709_tmp__ESTest.java]
1: /**
2:  * Scaffolding file used to store all the setups needed to run 
3:  * tests automatically generated by EvoSuite
4:  * Fri Apr 30 15:22:34 GMT 2021
5:  */
6: 
7: package org.apache.commons.lang3;
8: 
9: import org.evosuite.runtime.annotation.EvoSuiteClassExclude;
10: import org.junit.BeforeClass;
11: import org.junit.Before;
12: import org.junit.After;
13: import org.junit.AfterClass;
14: import org.evosuite.runtime.sandbox.Sandbox;
15: import org.evosuite.runtime.sandbox.Sandbox.SandboxMode;
16: 
17: import static org.evosuite.shaded.org.mockito.Mockito.*;
18: @EvoSuiteClassExclude
19: public class ArrayUtils_709_tmp__ESTest_scaffolding {
20: 
21:   @org.junit.Rule 
22:   public org.evosuite.runtime.vnet.NonFunctionalRequirementRule nfr = new org.evosuite.runtime.vnet.NonFunctionalRequirementRule();
23: 
24:   private static final java.util.Properties defaultProperties = (java.util.Properties) java.lang.System.getProperties().clone(); 
25: 
26:   private org.evosuite.runtime.thread.ThreadStopper threadStopper =  new org.evosuite.runtime.thread.ThreadStopper (org.evosuite.runtime.thread.KillSwitchHandler.getInstance(), 3000);
27: 
28: 
29:   @BeforeClass 
30:   public static void initEvoSuiteFramework() { 
31:     org.evosuite.runtime.RuntimeSettings.className = "org.apache.commons.lang3.ArrayUtils"; 
32:     org.evosuite.runtime.GuiSupport.initialize(); 
33:     org.evosuite.runtime.RuntimeSettings.maxNumberOfThreads = 100; 
34:     org.evosuite.runtime.RuntimeSettings.maxNumberOfIterationsPerLoop = 10000; 
35:     org.evosuite.runtime.RuntimeSettings.mockSystemIn = true; 
36:     org.evosuite.runtime.RuntimeSettings.sandboxMode = org.evosuite.runtime.sandbox.Sandbox.SandboxMode.RECOMMENDED; 
37:     org.evosuite.runtime.sandbox.Sandbox.initializeSecurityManagerForSUT(); 
38:     org.evosuite.runtime.classhandling.JDKClassResetter.init();
39:     setSystemProperties();
40:     initializeClasses();
41:     org.evosuite.runtime.Runtime.getInstance().resetRuntime(); 
42:     try { initMocksToAvoidTimeoutsInTheTests(); } catch(ClassNotFoundException e) {} 
43:   } 
44: 
45:   @AfterClass 
46:   public static void clearEvoSuiteFramework(){ 
47:     Sandbox.resetDefaultSecurityManager(); 
48:     java.lang.System.setProperties((java.util.Properties) defaultProperties.clone()); 
49:   } 
50: 
51:   @Before 
52:   public void initTestCase(){ 
53:     threadStopper.storeCurrentThreads();
54:     threadStopper.startRecordingTime();
55:     org.evosuite.runtime.jvm.ShutdownHookHandler.getInstance().initHandler(); 
56:     org.evosuite.runtime.sandbox.Sandbox.goingToExecuteSUTCode(); 
57:     setSystemProperties(); 
58:     org.evosuite.runtime.GuiSupport.setHeadless(); 
59:     org.evosuite.runtime.Runtime.getInstance().resetRuntime(); 
60:     org.evosuite.runtime.agent.InstrumentingAgent.activate(); 
61:   } 
62: 
63:   @After 
64:   public void doneWithTestCase(){ 
65:     threadStopper.killAndJoinClientThreads();
66:     org.evosuite.runtime.jvm.ShutdownHookHandler.getInstance().safeExecuteAddedHooks(); 
67:     org.evosuite.runtime.classhandling.JDKClassResetter.reset(); 
68:     resetClasses(); 
69:     org.evosuite.runtime.sandbox.Sandbox.doneWithExecutingSUTCode(); 
70:     org.evosuite.runtime.agent.InstrumentingAgent.deactivate(); 
71:     org.evosuite.runtime.GuiSupport.restoreHeadlessMode(); 
72:   } 
73: 
74:   public static void setSystemProperties() {
75:  
76:     java.lang.System.setProperties((java.util.Properties) defaultProperties.clone()); 
77:     java.lang.System.setProperty("user.dir", "/evosuite"); 
78:     java.lang.System.setProperty("java.io.tmpdir", "/tmp"); 
79:   }
80: 
81:   private static void initializeClasses() {
82:     org.evosuite.runtime.classhandling.ClassStateSupport.initializeClasses(ArrayUtils_709_tmp__ESTest_scaffolding.class.getClassLoader() ,
83:       "org.apache.commons.lang3.mutable.MutableInt",
84:       "org.apache.commons.lang3.ArraySorter",
85:       "org.apache.commons.lang3.builder.ToStringStyle",
86:       "org.apache.commons.lang3.ArrayUtils",
87:       "org.apache.commons.lang3.BooleanUtils",
88:       "org.apache.commons.lang3.StringUtils",
89:       "org.apache.commons.lang3.CharUtils",
90:       "org.apache.commons.lang3.builder.ToStringStyle$SimpleToStringStyle",
91:       "org.apache.commons.lang3.CharSequenceUtils",
92:       "org.apache.commons.lang3.ClassUtils",
93:       "org.apache.commons.lang3.builder.ToStringStyle$NoClassNameToStringStyle",
94:       "org.apache.commons.lang3.builder.ToStringStyle$DefaultToStringStyle",
95:       "org.apache.commons.lang3.builder.ToStringBuilder",
96:       "org.apache.commons.lang3.mutable.Mutable",
97:       "org.apache.commons.lang3.math.NumberUtils",
98:       "org.apache.commons.lang3.builder.Builder",
99:       "org.apache.commons.lang3.builder.ToStringStyle$JsonToStringStyle",
100:       "org.apache.commons.lang3.builder.HashCodeBuilder",
101:       "org.apache.commons.lang3.builder.ToStringStyle$NoFieldNameToStringStyle",
102:       "org.apache.commons.lang3.builder.ToStringStyle$ShortPrefixToStringStyle",
103:       "org.apache.commons.lang3.builder.ToStringStyle$MultiLineToStringStyle",
104:       "org.apache.commons.lang3.builder.EqualsBuilder"
105:     );
106:   } 
107:   private static void initMocksToAvoidTimeoutsInTheTests() throws ClassNotFoundException { 
108:     mock(Class.forName("java.util.Comparator", false, ArrayUtils_709_tmp__ESTest_scaffolding.class.getClassLoader()));
109:   }
110: 
111:   private static void resetClasses() {
112:     org.evosuite.runtime.classhandling.ClassResetter.getInstance().setClassLoader(ArrayUtils_709_tmp__ESTest_scaffolding.class.getClassLoader()); 
113: 
114:     org.evosuite.runtime.classhandling.ClassStateSupport.resetClasses(
115:       "org.apache.commons.lang3.ArrayUtils",
116:       "org.apache.commons.lang3.CharUtils",
117:       "org.apache.commons.lang3.ClassUtils",
118:       "org.apache.commons.lang3.builder.ToStringStyle$DefaultToStringStyle",
119:       "org.apache.commons.lang3.builder.ToStringStyle$MultiLineToStringStyle",
120:       "org.apache.commons.lang3.builder.ToStringStyle$NoFieldNameToStringStyle",
121:       "org.apache.commons.lang3.builder.ToStringStyle$ShortPrefixToStringStyle",
122:       "org.apache.commons.lang3.builder.ToStringStyle$SimpleToStringStyle",
123:       "org.apache.commons.lang3.builder.ToStringStyle$NoClassNameToStringStyle",
124:       "org.apache.commons.lang3.builder.ToStringStyle$JsonToStringStyle",
125:       "org.apache.commons.lang3.builder.ToStringStyle",
126:       "org.apache.commons.lang3.ArraySorter",
127:       "org.apache.commons.lang3.mutable.MutableInt",
128:       "org.apache.commons.lang3.builder.ToStringBuilder",
129:       "org.apache.commons.lang3.StringUtils",
130:       "org.apache.commons.lang3.CharSequenceUtils",
131:       "org.apache.commons.lang3.math.NumberUtils",
132:       "org.apache.commons.lang3.builder.EqualsBuilder",
133:       "org.apache.commons.lang3.builder.HashCodeBuilder",
134:       "org.apache.commons.lang3.BooleanUtils"
135:     );
136:   }
137: }

[MASTER] 15:22:34.624 [logback-2] ERROR JUnitAnalyzer - Failed to compile test case:
ArrayUtils.shift((boolean[]) null, (-368), (-368), 2);
Integer integer0 = new Integer(2);
assertNotNull(integer0);
assertEquals(2, (int)integer0);

Integer integer1 = new Integer(2);
assertTrue(integer1.equals((Object)integer0));
assertNotNull(integer1);
assertEquals(2, (int)integer1);

Comparator<Object> comparator0 = (Comparator<Object>) mock(Comparator.class, new ViolatedAssumptionAnswer());
Comparator<Map.Entry<AbstractMap.SimpleImmutableEntry<MutableInt, Byte>, Double>> comparator1 = Map.Entry.comparingByValue();
assertNotNull(comparator1);

Comparator<Map.Entry<Object, Double>> comparator2 = (Comparator<Map.Entry<Object, Double>>)Map.Entry.comparingByKey((Comparator<? super Object>) comparator0);
assertNotNull(comparator2);

double[] doubleArray0 = new double[2];
doubleArray0[0] = 1.0;
long[] longArray0 = new long[5];
longArray0[0] = (long) (-368);
longArray0[1] = 3347L;
longArray0[2] = (long) (-368);
longArray0[3] = (long) 2;
longArray0[4] = (-984L);
long[] longArray1 = ArrayUtils.removeElements(longArray0, longArray0);
assertNotSame(longArray0, longArray1);
assertNotSame(longArray1, longArray0);
assertEquals(5, longArray0.length);
assertEquals(0, longArray1.length);
assertArrayEquals(new long[] {(-368L), 3347L, (-368L), 2L, (-984L)}, longArray0);
assertArrayEquals(new long[] {}, longArray1);
assertFalse(longArray1.equals((Object)longArray0));
assertNotNull(longArray1);

ArrayUtils.swap((boolean[]) null, 2, 2339, 1466);
Object[] objectArray0 = new Object[2];
objectArray0[0] = (Object) comparator1;
Object object0 = ArrayUtils.toPrimitive((Object) comparator2);
assertNotNull(object0);

objectArray0[1] = object0;
Character character0 = Character.valueOf('\\');
assertNotNull(character0);
assertEquals('\\', (char)character0);

int int0 = ArrayUtils.lastIndexOf(objectArray0, (Object) character0);
assertEquals(2, objectArray0.length);
assertEquals((-1), int0);

boolean[] booleanArray0 = new boolean[8];
booleanArray0[0] = false;
booleanArray0[1] = true;
booleanArray0[2] = true;
booleanArray0[3] = true;
booleanArray0[4] = true;
booleanArray0[5] = true;
booleanArray0[6] = true;
booleanArray0[7] = true;
ArrayUtils.insert((-949), booleanArray0, booleanArray0);

[MASTER] 15:22:34.971 [logback-2] ERROR JUnitAnalyzer - Compilation failed on compilation units: [RegularFileObject[/tmp/EvoSuite_720_1619796154949/org/apache/commons/lang3/ArrayUtils_720_tmp__ESTest.java], RegularFileObject[/tmp/EvoSuite_720_1619796154949/org/apache/commons/lang3/ArrayUtils_720_tmp__ESTest_scaffolding.java]]
[MASTER] 15:22:34.971 [logback-2] ERROR JUnitAnalyzer - Classpath: projects/Lang/commons-lang3-3.12.0.jar:/evosuite-bin/evosuite.jar:/evosuite/projects/Lang/commons-lang3-3.12.0.jar
[MASTER] 15:22:34.971 [logback-2] ERROR JUnitAnalyzer - evosuiteCP: /evosuite-bin/evosuite.jar:/evosuite/projects/Lang/commons-lang3-3.12.0.jar
[MASTER] 15:22:34.971 [logback-2] ERROR JUnitAnalyzer - Diagnostic: incompatible types: java.util.Comparator<java.util.Map.Entry<java.lang.Object,java.lang.Object>> cannot be converted to java.util.Comparator<java.util.Map.Entry<java.lang.Object,java.lang.Double>>: 41
[MASTER] 15:22:34.971 [logback-2] ERROR JUnitAnalyzer - Diagnostic: /tmp/EvoSuite_720_1619796154949/org/apache/commons/lang3/ArrayUtils_720_tmp__ESTest.java uses unchecked or unsafe operations.: -1
[MASTER] 15:22:34.971 [logback-2] ERROR JUnitAnalyzer - Diagnostic: Recompile with -Xlint:unchecked for details.: -1
[MASTER] 15:22:34.971 [logback-2] ERROR JUnitAnalyzer - RegularFileObject[/tmp/EvoSuite_720_1619796154949/org/apache/commons/lang3/ArrayUtils_720_tmp__ESTest.java]
1: /*
2:  * This file was automatically generated by EvoSuite
3:  * Fri Apr 30 15:22:34 GMT 2021
4:  */
5: 
6: package org.apache.commons.lang3;
7: 
8: import org.junit.Test;
9: import static org.junit.Assert.*;
10: import static org.evosuite.shaded.org.mockito.Mockito.*;
11: import java.util.AbstractMap;
12: import java.util.BitSet;
13: import java.util.Comparator;
14: import java.util.Map;
15: import org.apache.commons.lang3.ArrayUtils;
16: import org.apache.commons.lang3.mutable.MutableInt;
17: import org.evosuite.runtime.EvoRunner;
18: import org.evosuite.runtime.EvoRunnerParameters;
19: import org.evosuite.runtime.ViolatedAssumptionAnswer;
20: import org.junit.runner.RunWith;
21: 
22: @RunWith(EvoRunner.class) @EvoRunnerParameters(mockJVMNonDeterminism = true, useVFS = true, useVNET = true, resetStaticState = true) 
23: public class ArrayUtils_720_tmp__ESTest extends ArrayUtils_720_tmp__ESTest_scaffolding {
24: 
25:   @Test(timeout = 4000)
26:   public void test0()  throws Throwable  {
27:       ArrayUtils.shift((boolean[]) null, (-368), (-368), 2);
28:       Integer integer0 = new Integer(2);
29:       assertNotNull(integer0);
30:       assertEquals(2, (int)integer0);
31:       
32:       Integer integer1 = new Integer(2);
33:       assertTrue(integer1.equals((Object)integer0));
34:       assertNotNull(integer1);
35:       assertEquals(2, (int)integer1);
36:       
37:       Comparator<Object> comparator0 = (Comparator<Object>) mock(Comparator.class, new ViolatedAssumptionAnswer());
38:       Comparator<Map.Entry<AbstractMap.SimpleImmutableEntry<MutableInt, Byte>, Double>> comparator1 = Map.Entry.comparingByValue();
39:       assertNotNull(comparator1);
40:       
41:       Comparator<Map.Entry<Object, Double>> comparator2 = (Comparator<Map.Entry<Object, Double>>)Map.Entry.comparingByKey((Comparator<? super Object>) comparator0);
42:       assertNotNull(comparator2);
43:       
44:       ArrayUtils.shift((double[]) null, (-368), (-368), (-368));
45:       BitSet bitSet0 = ArrayUtils.indexesOf((double[]) null, Double.NaN);
46:       assertEquals(0, bitSet0.length());
47:       assertEquals(0, bitSet0.cardinality());
48:       assertEquals("{}", bitSet0.toString());
49:       assertTrue(bitSet0.isEmpty());
50:       assertEquals(64, bitSet0.size());
51:       assertNotNull(bitSet0);
52:       
53:       Boolean[] booleanArray0 = ArrayUtils.toObject((boolean[]) null);
54:       assertNull(booleanArray0);
55:   }
56: }
RegularFileObject[/tmp/EvoSuite_720_1619796154949/org/apache/commons/lang3/ArrayUtils_720_tmp__ESTest.java]
1: /**
2:  * Scaffolding file used to store all the setups needed to run 
3:  * tests automatically generated by EvoSuite
4:  * Fri Apr 30 15:22:34 GMT 2021
5:  */
6: 
7: package org.apache.commons.lang3;
8: 
9: import org.evosuite.runtime.annotation.EvoSuiteClassExclude;
10: import org.junit.BeforeClass;
11: import org.junit.Before;
12: import org.junit.After;
13: import org.junit.AfterClass;
14: import org.evosuite.runtime.sandbox.Sandbox;
15: import org.evosuite.runtime.sandbox.Sandbox.SandboxMode;
16: 
17: import static org.evosuite.shaded.org.mockito.Mockito.*;
18: @EvoSuiteClassExclude
19: public class ArrayUtils_720_tmp__ESTest_scaffolding {
20: 
21:   @org.junit.Rule 
22:   public org.evosuite.runtime.vnet.NonFunctionalRequirementRule nfr = new org.evosuite.runtime.vnet.NonFunctionalRequirementRule();
23: 
24:   private static final java.util.Properties defaultProperties = (java.util.Properties) java.lang.System.getProperties().clone(); 
25: 
26:   private org.evosuite.runtime.thread.ThreadStopper threadStopper =  new org.evosuite.runtime.thread.ThreadStopper (org.evosuite.runtime.thread.KillSwitchHandler.getInstance(), 3000);
27: 
28: 
29:   @BeforeClass 
30:   public static void initEvoSuiteFramework() { 
31:     org.evosuite.runtime.RuntimeSettings.className = "org.apache.commons.lang3.ArrayUtils"; 
32:     org.evosuite.runtime.GuiSupport.initialize(); 
33:     org.evosuite.runtime.RuntimeSettings.maxNumberOfThreads = 100; 
34:     org.evosuite.runtime.RuntimeSettings.maxNumberOfIterationsPerLoop = 10000; 
35:     org.evosuite.runtime.RuntimeSettings.mockSystemIn = true; 
36:     org.evosuite.runtime.RuntimeSettings.sandboxMode = org.evosuite.runtime.sandbox.Sandbox.SandboxMode.RECOMMENDED; 
37:     org.evosuite.runtime.sandbox.Sandbox.initializeSecurityManagerForSUT(); 
38:     org.evosuite.runtime.classhandling.JDKClassResetter.init();
39:     setSystemProperties();
40:     initializeClasses();
41:     org.evosuite.runtime.Runtime.getInstance().resetRuntime(); 
42:     try { initMocksToAvoidTimeoutsInTheTests(); } catch(ClassNotFoundException e) {} 
43:   } 
44: 
45:   @AfterClass 
46:   public static void clearEvoSuiteFramework(){ 
47:     Sandbox.resetDefaultSecurityManager(); 
48:     java.lang.System.setProperties((java.util.Properties) defaultProperties.clone()); 
49:   } 
50: 
51:   @Before 
52:   public void initTestCase(){ 
53:     threadStopper.storeCurrentThreads();
54:     threadStopper.startRecordingTime();
55:     org.evosuite.runtime.jvm.ShutdownHookHandler.getInstance().initHandler(); 
56:     org.evosuite.runtime.sandbox.Sandbox.goingToExecuteSUTCode(); 
57:     setSystemProperties(); 
58:     org.evosuite.runtime.GuiSupport.setHeadless(); 
59:     org.evosuite.runtime.Runtime.getInstance().resetRuntime(); 
60:     org.evosuite.runtime.agent.InstrumentingAgent.activate(); 
61:   } 
62: 
63:   @After 
64:   public void doneWithTestCase(){ 
65:     threadStopper.killAndJoinClientThreads();
66:     org.evosuite.runtime.jvm.ShutdownHookHandler.getInstance().safeExecuteAddedHooks(); 
67:     org.evosuite.runtime.classhandling.JDKClassResetter.reset(); 
68:     resetClasses(); 
69:     org.evosuite.runtime.sandbox.Sandbox.doneWithExecutingSUTCode(); 
70:     org.evosuite.runtime.agent.InstrumentingAgent.deactivate(); 
71:     org.evosuite.runtime.GuiSupport.restoreHeadlessMode(); 
72:   } 
73: 
74:   public static void setSystemProperties() {
75:  
76:     java.lang.System.setProperties((java.util.Properties) defaultProperties.clone()); 
77:     java.lang.System.setProperty("user.dir", "/evosuite"); 
78:     java.lang.System.setProperty("java.io.tmpdir", "/tmp"); 
79:   }
80: 
81:   private static void initializeClasses() {
82:     org.evosuite.runtime.classhandling.ClassStateSupport.initializeClasses(ArrayUtils_720_tmp__ESTest_scaffolding.class.getClassLoader() ,
83:       "org.apache.commons.lang3.mutable.MutableInt",
84:       "org.apache.commons.lang3.ArraySorter",
85:       "org.apache.commons.lang3.builder.ToStringStyle",
86:       "org.apache.commons.lang3.ArrayUtils",
87:       "org.apache.commons.lang3.BooleanUtils",
88:       "org.apache.commons.lang3.StringUtils",
89:       "org.apache.commons.lang3.CharUtils",
90:       "org.apache.commons.lang3.builder.ToStringStyle$SimpleToStringStyle",
91:       "org.apache.commons.lang3.CharSequenceUtils",
92:       "org.apache.commons.lang3.ClassUtils",
93:       "org.apache.commons.lang3.builder.ToStringStyle$NoClassNameToStringStyle",
94:       "org.apache.commons.lang3.builder.ToStringStyle$DefaultToStringStyle",
95:       "org.apache.commons.lang3.builder.ToStringBuilder",
96:       "org.apache.commons.lang3.mutable.Mutable",
97:       "org.apache.commons.lang3.math.NumberUtils",
98:       "org.apache.commons.lang3.builder.Builder",
99:       "org.apache.commons.lang3.builder.ToStringStyle$JsonToStringStyle",
100:       "org.apache.commons.lang3.builder.HashCodeBuilder",
101:       "org.apache.commons.lang3.builder.ToStringStyle$NoFieldNameToStringStyle",
102:       "org.apache.commons.lang3.builder.ToStringStyle$ShortPrefixToStringStyle",
103:       "org.apache.commons.lang3.builder.ToStringStyle$MultiLineToStringStyle",
104:       "org.apache.commons.lang3.builder.EqualsBuilder"
105:     );
106:   } 
107:   private static void initMocksToAvoidTimeoutsInTheTests() throws ClassNotFoundException { 
108:     mock(Class.forName("java.util.Comparator", false, ArrayUtils_720_tmp__ESTest_scaffolding.class.getClassLoader()));
109:   }
110: 
111:   private static void resetClasses() {
112:     org.evosuite.runtime.classhandling.ClassResetter.getInstance().setClassLoader(ArrayUtils_720_tmp__ESTest_scaffolding.class.getClassLoader()); 
113: 
114:     org.evosuite.runtime.classhandling.ClassStateSupport.resetClasses(
115:       "org.apache.commons.lang3.ArrayUtils",
116:       "org.apache.commons.lang3.CharUtils",
117:       "org.apache.commons.lang3.ClassUtils",
118:       "org.apache.commons.lang3.builder.ToStringStyle$DefaultToStringStyle",
119:       "org.apache.commons.lang3.builder.ToStringStyle$MultiLineToStringStyle",
120:       "org.apache.commons.lang3.builder.ToStringStyle$NoFieldNameToStringStyle",
121:       "org.apache.commons.lang3.builder.ToStringStyle$ShortPrefixToStringStyle",
122:       "org.apache.commons.lang3.builder.ToStringStyle$SimpleToStringStyle",
123:       "org.apache.commons.lang3.builder.ToStringStyle$NoClassNameToStringStyle",
124:       "org.apache.commons.lang3.builder.ToStringStyle$JsonToStringStyle",
125:       "org.apache.commons.lang3.builder.ToStringStyle",
126:       "org.apache.commons.lang3.ArraySorter",
127:       "org.apache.commons.lang3.mutable.MutableInt",
128:       "org.apache.commons.lang3.builder.ToStringBuilder",
129:       "org.apache.commons.lang3.StringUtils",
130:       "org.apache.commons.lang3.CharSequenceUtils",
131:       "org.apache.commons.lang3.math.NumberUtils",
132:       "org.apache.commons.lang3.builder.EqualsBuilder",
133:       "org.apache.commons.lang3.builder.HashCodeBuilder",
134:       "org.apache.commons.lang3.BooleanUtils"
135:     );
136:   }
137: }

[MASTER] 15:22:34.972 [logback-2] ERROR JUnitAnalyzer - Failed to compile test case:
ArrayUtils.shift((boolean[]) null, (-368), (-368), 2);
Integer integer0 = new Integer(2);
assertNotNull(integer0);
assertEquals(2, (int)integer0);

Integer integer1 = new Integer(2);
assertTrue(integer1.equals((Object)integer0));
assertNotNull(integer1);
assertEquals(2, (int)integer1);

Comparator<Object> comparator0 = (Comparator<Object>) mock(Comparator.class, new ViolatedAssumptionAnswer());
Comparator<Map.Entry<AbstractMap.SimpleImmutableEntry<MutableInt, Byte>, Double>> comparator1 = Map.Entry.comparingByValue();
assertNotNull(comparator1);

Comparator<Map.Entry<Object, Double>> comparator2 = (Comparator<Map.Entry<Object, Double>>)Map.Entry.comparingByKey((Comparator<? super Object>) comparator0);
assertNotNull(comparator2);

ArrayUtils.shift((double[]) null, (-368), (-368), (-368));
BitSet bitSet0 = ArrayUtils.indexesOf((double[]) null, Double.NaN);
assertEquals(0, bitSet0.length());
assertEquals(0, bitSet0.cardinality());
assertEquals("{}", bitSet0.toString());
assertTrue(bitSet0.isEmpty());
assertEquals(64, bitSet0.size());
assertNotNull(bitSet0);

Boolean[] booleanArray0 = ArrayUtils.toObject((boolean[]) null);
assertNull(booleanArray0);


[MASTER] 15:22:43.759 [logback-2] ERROR JUnitAnalyzer - Compilation failed on compilation units: [RegularFileObject[/tmp/EvoSuite_921_1619796163702/org/apache/commons/lang3/ArrayUtils_921_tmp__ESTest.java], RegularFileObject[/tmp/EvoSuite_921_1619796163702/org/apache/commons/lang3/ArrayUtils_921_tmp__ESTest_scaffolding.java]]
[MASTER] 15:22:43.759 [logback-2] ERROR JUnitAnalyzer - Classpath: projects/Lang/commons-lang3-3.12.0.jar:/evosuite-bin/evosuite.jar:/evosuite/projects/Lang/commons-lang3-3.12.0.jar
[MASTER] 15:22:43.759 [logback-2] ERROR JUnitAnalyzer - evosuiteCP: /evosuite-bin/evosuite.jar:/evosuite/projects/Lang/commons-lang3-3.12.0.jar
[MASTER] 15:22:43.759 [logback-2] ERROR JUnitAnalyzer - Diagnostic: incompatible types: java.util.Comparator<java.util.Map.Entry<java.lang.Object,java.lang.Object>> cannot be converted to java.util.Comparator<java.util.Map.Entry<java.lang.Object,java.lang.Double>>: 41
[MASTER] 15:22:43.761 [logback-2] ERROR JUnitAnalyzer - Diagnostic: /tmp/EvoSuite_921_1619796163702/org/apache/commons/lang3/ArrayUtils_921_tmp__ESTest.java uses unchecked or unsafe operations.: -1
[MASTER] 15:22:43.762 [logback-2] ERROR JUnitAnalyzer - Diagnostic: Recompile with -Xlint:unchecked for details.: -1
[MASTER] 15:22:43.764 [logback-2] ERROR JUnitAnalyzer - RegularFileObject[/tmp/EvoSuite_921_1619796163702/org/apache/commons/lang3/ArrayUtils_921_tmp__ESTest.java]
1: /*
2:  * This file was automatically generated by EvoSuite
3:  * Fri Apr 30 15:22:43 GMT 2021
4:  */
5: 
6: package org.apache.commons.lang3;
7: 
8: import org.junit.Test;
9: import static org.junit.Assert.*;
10: import static org.evosuite.shaded.org.mockito.Mockito.*;
11: import java.util.AbstractMap;
12: import java.util.BitSet;
13: import java.util.Comparator;
14: import java.util.Map;
15: import org.apache.commons.lang3.ArrayUtils;
16: import org.apache.commons.lang3.mutable.MutableInt;
17: import org.evosuite.runtime.EvoRunner;
18: import org.evosuite.runtime.EvoRunnerParameters;
19: import org.evosuite.runtime.ViolatedAssumptionAnswer;
20: import org.junit.runner.RunWith;
21: 
22: @RunWith(EvoRunner.class) @EvoRunnerParameters(mockJVMNonDeterminism = true, useVFS = true, useVNET = true, resetStaticState = true) 
23: public class ArrayUtils_921_tmp__ESTest extends ArrayUtils_921_tmp__ESTest_scaffolding {
24: 
25:   @Test(timeout = 4000)
26:   public void test0()  throws Throwable  {
27:       ArrayUtils.shift((boolean[]) null, (-368), (-368), 2);
28:       Integer integer0 = new Integer(2);
29:       assertNotNull(integer0);
30:       assertEquals(2, (int)integer0);
31:       
32:       Integer integer1 = new Integer(2);
33:       assertTrue(integer1.equals((Object)integer0));
34:       assertNotNull(integer1);
35:       assertEquals(2, (int)integer1);
36:       
37:       Comparator<Object> comparator0 = (Comparator<Object>) mock(Comparator.class, new ViolatedAssumptionAnswer());
38:       Comparator<Map.Entry<AbstractMap.SimpleImmutableEntry<MutableInt, Byte>, Double>> comparator1 = Map.Entry.comparingByValue();
39:       assertNotNull(comparator1);
40:       
41:       Comparator<Map.Entry<Object, Double>> comparator2 = (Comparator<Map.Entry<Object, Double>>)Map.Entry.comparingByKey((Comparator<? super Object>) comparator0);
42:       assertNotNull(comparator2);
43:       
44:       double[] doubleArray0 = new double[2];
45:       doubleArray0[0] = 1.0;
46:       long[] longArray0 = new long[5];
47:       longArray0[0] = (long) (-368);
48:       longArray0[1] = 3347L;
49:       longArray0[2] = (long) (-368);
50:       longArray0[3] = (long) 2;
51:       longArray0[4] = (-984L);
52:       long[] longArray1 = ArrayUtils.removeElements(longArray0, longArray0);
53:       assertNotSame(longArray0, longArray1);
54:       assertNotSame(longArray1, longArray0);
55:       assertEquals(5, longArray0.length);
56:       assertEquals(0, longArray1.length);
57:       assertArrayEquals(new long[] {(-368L), 3347L, (-368L), 2L, (-984L)}, longArray0);
58:       assertArrayEquals(new long[] {}, longArray1);
59:       assertFalse(longArray1.equals((Object)longArray0));
60:       assertNotNull(longArray1);
61:       
62:       ArrayUtils.swap((boolean[]) null, 2, 2339, 1466);
63:       Object[] objectArray0 = new Object[2];
64:       objectArray0[0] = (Object) comparator1;
65:       Object object0 = ArrayUtils.toPrimitive((Object) comparator2);
66:       assertNotNull(object0);
67:       
68:       BitSet bitSet0 = ArrayUtils.indexesOf(doubleArray0, 0.1, (double) 3347L);
69:       assertEquals(2, bitSet0.cardinality());
70:       assertFalse(bitSet0.isEmpty());
71:       assertEquals("{0, 1}", bitSet0.toString());
72:       assertEquals(64, bitSet0.size());
73:       assertEquals(2, bitSet0.length());
74:       assertEquals(2, doubleArray0.length);
75:       assertArrayEquals(new double[] {1.0, 0.0}, doubleArray0, 0.01);
76:       assertNotNull(bitSet0);
77:       
78:       float[] floatArray0 = new float[4];
79:       floatArray0[0] = (float) (-368L);
80:       floatArray0[1] = (float) (-984L);
81:       floatArray0[2] = (float) (-368L);
82:       floatArray0[3] = (float) 1466;
83:       float[] floatArray1 = ArrayUtils.subarray(floatArray0, 897, (-1247));
84:       assertNotSame(floatArray0, floatArray1);
85:       assertNotSame(floatArray1, floatArray0);
86:       assertEquals(4, floatArray0.length);
87:       assertEquals(0, floatArray1.length);
88:       assertArrayEquals(new float[] {(-368.0F), (-984.0F), (-368.0F), 1466.0F}, floatArray0, 0.01F);
89:       assertArrayEquals(new float[] {}, floatArray1, 0.01F);
90:       assertFalse(floatArray1.equals((Object)floatArray0));
91:       assertNotNull(floatArray1);
92:   }
93: }
RegularFileObject[/tmp/EvoSuite_921_1619796163702/org/apache/commons/lang3/ArrayUtils_921_tmp__ESTest.java]
1: /**
2:  * Scaffolding file used to store all the setups needed to run 
3:  * tests automatically generated by EvoSuite
4:  * Fri Apr 30 15:22:43 GMT 2021
5:  */
6: 
7: package org.apache.commons.lang3;
8: 
9: import org.evosuite.runtime.annotation.EvoSuiteClassExclude;
10: import org.junit.BeforeClass;
11: import org.junit.Before;
12: import org.junit.After;
13: import org.junit.AfterClass;
14: import org.evosuite.runtime.sandbox.Sandbox;
15: import org.evosuite.runtime.sandbox.Sandbox.SandboxMode;
16: 
17: import static org.evosuite.shaded.org.mockito.Mockito.*;
18: @EvoSuiteClassExclude
19: public class ArrayUtils_921_tmp__ESTest_scaffolding {
20: 
21:   @org.junit.Rule 
22:   public org.evosuite.runtime.vnet.NonFunctionalRequirementRule nfr = new org.evosuite.runtime.vnet.NonFunctionalRequirementRule();
23: 
24:   private static final java.util.Properties defaultProperties = (java.util.Properties) java.lang.System.getProperties().clone(); 
25: 
26:   private org.evosuite.runtime.thread.ThreadStopper threadStopper =  new org.evosuite.runtime.thread.ThreadStopper (org.evosuite.runtime.thread.KillSwitchHandler.getInstance(), 3000);
27: 
28: 
29:   @BeforeClass 
30:   public static void initEvoSuiteFramework() { 
31:     org.evosuite.runtime.RuntimeSettings.className = "org.apache.commons.lang3.ArrayUtils"; 
32:     org.evosuite.runtime.GuiSupport.initialize(); 
33:     org.evosuite.runtime.RuntimeSettings.maxNumberOfThreads = 100; 
34:     org.evosuite.runtime.RuntimeSettings.maxNumberOfIterationsPerLoop = 10000; 
35:     org.evosuite.runtime.RuntimeSettings.mockSystemIn = true; 
36:     org.evosuite.runtime.RuntimeSettings.sandboxMode = org.evosuite.runtime.sandbox.Sandbox.SandboxMode.RECOMMENDED; 
37:     org.evosuite.runtime.sandbox.Sandbox.initializeSecurityManagerForSUT(); 
38:     org.evosuite.runtime.classhandling.JDKClassResetter.init();
39:     setSystemProperties();
40:     initializeClasses();
41:     org.evosuite.runtime.Runtime.getInstance().resetRuntime(); 
42:     try { initMocksToAvoidTimeoutsInTheTests(); } catch(ClassNotFoundException e) {} 
43:   } 
44: 
45:   @AfterClass 
46:   public static void clearEvoSuiteFramework(){ 
47:     Sandbox.resetDefaultSecurityManager(); 
48:     java.lang.System.setProperties((java.util.Properties) defaultProperties.clone()); 
49:   } 
50: 
51:   @Before 
52:   public void initTestCase(){ 
53:     threadStopper.storeCurrentThreads();
54:     threadStopper.startRecordingTime();
55:     org.evosuite.runtime.jvm.ShutdownHookHandler.getInstance().initHandler(); 
56:     org.evosuite.runtime.sandbox.Sandbox.goingToExecuteSUTCode(); 
57:     setSystemProperties(); 
58:     org.evosuite.runtime.GuiSupport.setHeadless(); 
59:     org.evosuite.runtime.Runtime.getInstance().resetRuntime(); 
60:     org.evosuite.runtime.agent.InstrumentingAgent.activate(); 
61:   } 
62: 
63:   @After 
64:   public void doneWithTestCase(){ 
65:     threadStopper.killAndJoinClientThreads();
66:     org.evosuite.runtime.jvm.ShutdownHookHandler.getInstance().safeExecuteAddedHooks(); 
67:     org.evosuite.runtime.classhandling.JDKClassResetter.reset(); 
68:     resetClasses(); 
69:     org.evosuite.runtime.sandbox.Sandbox.doneWithExecutingSUTCode(); 
70:     org.evosuite.runtime.agent.InstrumentingAgent.deactivate(); 
71:     org.evosuite.runtime.GuiSupport.restoreHeadlessMode(); 
72:   } 
73: 
74:   public static void setSystemProperties() {
75:  
76:     java.lang.System.setProperties((java.util.Properties) defaultProperties.clone()); 
77:     java.lang.System.setProperty("user.dir", "/evosuite"); 
78:     java.lang.System.setProperty("java.io.tmpdir", "/tmp"); 
79:   }
80: 
81:   private static void initializeClasses() {
82:     org.evosuite.runtime.classhandling.ClassStateSupport.initializeClasses(ArrayUtils_921_tmp__ESTest_scaffolding.class.getClassLoader() ,
83:       "org.apache.commons.lang3.mutable.MutableInt",
84:       "org.apache.commons.lang3.ArraySorter",
85:       "org.apache.commons.lang3.builder.ToStringStyle",
86:       "org.apache.commons.lang3.ArrayUtils",
87:       "org.apache.commons.lang3.BooleanUtils",
88:       "org.apache.commons.lang3.StringUtils",
89:       "org.apache.commons.lang3.CharUtils",
90:       "org.apache.commons.lang3.builder.ToStringStyle$SimpleToStringStyle",
91:       "org.apache.commons.lang3.CharSequenceUtils",
92:       "org.apache.commons.lang3.ClassUtils",
93:       "org.apache.commons.lang3.builder.ToStringStyle$NoClassNameToStringStyle",
94:       "org.apache.commons.lang3.builder.ToStringStyle$DefaultToStringStyle",
95:       "org.apache.commons.lang3.builder.ToStringBuilder",
96:       "org.apache.commons.lang3.mutable.Mutable",
97:       "org.apache.commons.lang3.math.NumberUtils",
98:       "org.apache.commons.lang3.builder.Builder",
99:       "org.apache.commons.lang3.builder.ToStringStyle$JsonToStringStyle",
100:       "org.apache.commons.lang3.builder.HashCodeBuilder",
101:       "org.apache.commons.lang3.builder.ToStringStyle$NoFieldNameToStringStyle",
102:       "org.apache.commons.lang3.builder.ToStringStyle$ShortPrefixToStringStyle",
103:       "org.apache.commons.lang3.builder.ToStringStyle$MultiLineToStringStyle",
104:       "org.apache.commons.lang3.builder.EqualsBuilder"
105:     );
106:   } 
107:   private static void initMocksToAvoidTimeoutsInTheTests() throws ClassNotFoundException { 
108:     mock(Class.forName("java.util.Comparator", false, ArrayUtils_921_tmp__ESTest_scaffolding.class.getClassLoader()));
109:   }
110: 
111:   private static void resetClasses() {
112:     org.evosuite.runtime.classhandling.ClassResetter.getInstance().setClassLoader(ArrayUtils_921_tmp__ESTest_scaffolding.class.getClassLoader()); 
113: 
114:     org.evosuite.runtime.classhandling.ClassStateSupport.resetClasses(
115:       "org.apache.commons.lang3.ArrayUtils",
116:       "org.apache.commons.lang3.CharUtils",
117:       "org.apache.commons.lang3.ClassUtils",
118:       "org.apache.commons.lang3.builder.ToStringStyle$DefaultToStringStyle",
119:       "org.apache.commons.lang3.builder.ToStringStyle$MultiLineToStringStyle",
120:       "org.apache.commons.lang3.builder.ToStringStyle$NoFieldNameToStringStyle",
121:       "org.apache.commons.lang3.builder.ToStringStyle$ShortPrefixToStringStyle",
122:       "org.apache.commons.lang3.builder.ToStringStyle$SimpleToStringStyle",
123:       "org.apache.commons.lang3.builder.ToStringStyle$NoClassNameToStringStyle",
124:       "org.apache.commons.lang3.builder.ToStringStyle$JsonToStringStyle",
125:       "org.apache.commons.lang3.builder.ToStringStyle",
126:       "org.apache.commons.lang3.ArraySorter",
127:       "org.apache.commons.lang3.mutable.MutableInt",
128:       "org.apache.commons.lang3.builder.ToStringBuilder",
129:       "org.apache.commons.lang3.StringUtils",
130:       "org.apache.commons.lang3.CharSequenceUtils",
131:       "org.apache.commons.lang3.math.NumberUtils",
132:       "org.apache.commons.lang3.builder.EqualsBuilder",
133:       "org.apache.commons.lang3.builder.HashCodeBuilder",
134:       "org.apache.commons.lang3.BooleanUtils"
135:     );
136:   }
137: }

[MASTER] 15:22:43.767 [logback-2] ERROR JUnitAnalyzer - Failed to compile test case:
ArrayUtils.shift((boolean[]) null, (-368), (-368), 2);
Integer integer0 = new Integer(2);
assertNotNull(integer0);
assertEquals(2, (int)integer0);

Integer integer1 = new Integer(2);
assertTrue(integer1.equals((Object)integer0));
assertNotNull(integer1);
assertEquals(2, (int)integer1);

Comparator<Object> comparator0 = (Comparator<Object>) mock(Comparator.class, new ViolatedAssumptionAnswer());
Comparator<Map.Entry<AbstractMap.SimpleImmutableEntry<MutableInt, Byte>, Double>> comparator1 = Map.Entry.comparingByValue();
assertNotNull(comparator1);

Comparator<Map.Entry<Object, Double>> comparator2 = (Comparator<Map.Entry<Object, Double>>)Map.Entry.comparingByKey((Comparator<? super Object>) comparator0);
assertNotNull(comparator2);

double[] doubleArray0 = new double[2];
doubleArray0[0] = 1.0;
long[] longArray0 = new long[5];
longArray0[0] = (long) (-368);
longArray0[1] = 3347L;
longArray0[2] = (long) (-368);
longArray0[3] = (long) 2;
longArray0[4] = (-984L);
long[] longArray1 = ArrayUtils.removeElements(longArray0, longArray0);
assertNotSame(longArray0, longArray1);
assertNotSame(longArray1, longArray0);
assertEquals(5, longArray0.length);
assertEquals(0, longArray1.length);
assertArrayEquals(new long[] {(-368L), 3347L, (-368L), 2L, (-984L)}, longArray0);
assertArrayEquals(new long[] {}, longArray1);
assertFalse(longArray1.equals((Object)longArray0));
assertNotNull(longArray1);

ArrayUtils.swap((boolean[]) null, 2, 2339, 1466);
Object[] objectArray0 = new Object[2];
objectArray0[0] = (Object) comparator1;
Object object0 = ArrayUtils.toPrimitive((Object) comparator2);
assertNotNull(object0);

BitSet bitSet0 = ArrayUtils.indexesOf(doubleArray0, 0.1, (double) 3347L);
assertEquals(2, bitSet0.cardinality());
assertFalse(bitSet0.isEmpty());
assertEquals("{0, 1}", bitSet0.toString());
assertEquals(64, bitSet0.size());
assertEquals(2, bitSet0.length());
assertEquals(2, doubleArray0.length);
assertArrayEquals(new double[] {1.0, 0.0}, doubleArray0, 0.01);
assertNotNull(bitSet0);

float[] floatArray0 = new float[4];
floatArray0[0] = (float) (-368L);
floatArray0[1] = (float) (-984L);
floatArray0[2] = (float) (-368L);
floatArray0[3] = (float) 1466;
float[] floatArray1 = ArrayUtils.subarray(floatArray0, 897, (-1247));
assertNotSame(floatArray0, floatArray1);
assertNotSame(floatArray1, floatArray0);
assertEquals(4, floatArray0.length);
assertEquals(0, floatArray1.length);
assertArrayEquals(new float[] {(-368.0F), (-984.0F), (-368.0F), 1466.0F}, floatArray0, 0.01F);
assertArrayEquals(new float[] {}, floatArray1, 0.01F);
assertFalse(floatArray1.equals((Object)floatArray0));
assertNotNull(floatArray1);


* Permissions denied during test execution: 
  - java.lang.RuntimePermission: 
         writeFileDescriptor: 2
* Writing tests to file
* Writing JUnit test case 'ArrayUtils_ESTest' to results/crossover_120/Lang/org_apache_commons_lang3_ArrayUtils/tests/6
* Done!

* Computation finished
